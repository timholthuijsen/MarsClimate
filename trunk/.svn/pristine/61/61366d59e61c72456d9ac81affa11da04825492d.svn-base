<context id="LMDZ">

    <!-- Definition of a calendar is done in code via wxios_set_cal -->
    
    <!-- Definition of domains and groups of domains -->
    <domain_definition>
        <domain id="dom_glo" data_dim="2" type="rectilinear" />
    </domain_definition>
        
    <!-- Definition of vertical axes 
         NB: these must be defined and set in code via
         wxios_add_vaxis -->
    <axis_definition>
        <axis id="presnivs" 
              standard_name="Pseudo-pressure of model vertical levels" 
              unit="Pa">
        </axis>
        <axis id="altitude" 
              standard_name="Pseudo-altitude of model vertical levels" 
              unit="km">
        </axis>
        <axis id="soil_layers" 
              standard_name="soil layer depth at intermediate level" 
              unit="m">
        </axis>
    </axis_definition>
    
    <grid_definition>
        <!-- toggle axis id below to change output vertical axis -->
        <grid id="grid_3d">
            <domain id="dom_glo" />
                <!-- <axis id="presnivs" /> -->
                <axis id="altitude" /> 
        </grid>

        <grid id="grid_soil">
            <domain id="dom_glo" />
                <axis id="soil_layers" /> 
        </grid>
        
        <grid id="grid_2d">
            <domain id="dom_glo" />
        </grid>
        
        <!-- to output scalars -->
        <grid id="scalarpoint" >
            <scalar />
        </grid>
    </grid_definition>
    
    <!-- Definition of model variables -->
    <field_definition src="./field_def_physics_mars.xml" />
    
    <!-- Definition of output files -->
    <file_definition>
        <!-- Instantaneous outputs; Here output_freq in physics time steps -->
        <file id="histins"
              name="Xhistins"
              output_freq="12ts" 
              type="one_file"
              enabled=".true.">
                    
            <!-- VARS 0D -->
            <field_group operation="instant"
                         freq_op="1ts">
                <field field_ref="ls" />
            </field_group>

            <!-- VARS 2D -->
            <field_group operation="instant"
                         freq_op="1ts">
                <field field_ref="area" operation="once" />
                <field field_ref="ps" />
                <field field_ref="tsurf" />
                <field field_ref="co2ice" />
                <field field_ref="ISR" />
                <field field_ref="OLR" />
            </field_group>

            <!-- VARS 3D -->
            <field_group operation="instant"
                         freq_op="1ts">
                <field field_ref="temperature" />
                <field field_ref="u" />
                <field field_ref="v" />
            </field_group>

            <!-- VARS soil -->
            <field_group operation="instant"
                         freq_op="1ts">
                <field field_ref="tsoil" />
                <field field_ref="inertiedat" />
            </field_group>
        </file>

        <!-- diurnal averages outputs; output_freq is every day -->
        <file id="diurnalave"
              name="Xdiurnalave"
              output_freq="1d" 
              type="one_file"
              enabled=".false.">
                    
            <!-- VARS 0D -->
            <field_group operation="average"
                         freq_op="1ts">
                <field field_ref="ls" />
            </field_group>

            <!-- VARS 2D -->
            <field_group operation="average"
                         freq_op="1ts">
                <field field_ref="area" operation="once" />
                <field field_ref="ps" />
            </field_group>

            <!-- VARS 3D -->
            <field_group operation="average"
                         freq_op="1ts">
                <field field_ref="temperature" />
                <field field_ref="u" />
                <field field_ref="v" />
            </field_group>
        </file>
    </file_definition>

</context>
